{application, 'pipeline',
 [{description, "Turtle manages RabbitMQ connections"},
  {vsn, "1.9.3"},
  {registered, []},
  {mod, {'turtle_app', []}},
  {applications,
   [kernel,
    stdlib,
    xmerl,

    amqp_client,
    exometer_core,
    gproc,
    lager,
    uuid
   ]},
  {env,[
      {connection_config, [
          #{
            conn_name => amqp_server,
            connections =>
              [
                {main, [{"localhost", 5672}]}
              ],
            username => "guest",
	{ok, Connection = [Password]} = application:get_env(email_single,rabbit_pass, "guest"),
            password => "guest",
            
            virtual_host => "/"
           }]}
  ]},
  {modules, []}
 ]}.
